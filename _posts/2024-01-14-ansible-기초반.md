---
layout: post
title: a101) ansible ê¸°ì´ˆë°˜
category:
  - study
  - ansible
tags:
  - study
  - ansible
---

ì‘ë…„ ìƒë°˜ê¸°ì— ì—°ë‹¬ì•„ ì°¸ì—¬í–ˆë˜ ìŠ¤í„°ë””ê°€ í˜ë“¤ì–´ì„œ ì ì‹œ.. ì‰¬ì—ˆë‹¤ê°€, ìƒˆí•´ë§ì´ë¡œ ë‹¤ì‹œ ìŠ¤í„°ë””ì— ì°¸ì—¬í•˜ê²Œ ë˜ì—ˆë‹¤. ì´ë²ˆ ìŠ¤í„°ë””ëŠ” '[ì•¤ì„œë¸”ë¡œ ì‹œì‘í•˜ëŠ” ì¸í”„ë¼ ìë™í™”](https://m.yes24.com/Goods/Detail/122586562)' ì±…ì„ ë°”íƒ•ìœ¼ë¡œ ì§„í–‰ëœë‹¤.


# ansibleì†Œê°œ

ì•¤ì„œë¸”ì€ ë¡œì»¬/ì›ê²© ì‹œìŠ¤í…œì— ì›í•˜ëŠ” ìƒíƒœë¡œ ì„ ì–¸í•˜ì—¬ ê·¸ ì‹œìŠ¤í…œì´ í•´ë‹¹ ìƒíƒœë¥¼ ìœ ì§€í•˜ê²Œí•´ì£¼ëŠ” ìë™í™” ë„êµ¬ì´ë‹¤. í…Œë¼í¼ê³¼ ë‹¤ë¥¸ ì ì€ ìƒíƒœë¥¼ ê³„ì†í•´ì„œ ê´€ë¦¬í•´ì£¼ì§€ ì•Šê¸°ë•Œë¬¸ì— ìˆ˜ëª…ì£¼ê¸° ê´€ë¦¬ê°€ ì•ˆëœë‹¤. ê·¸ë ‡ê¸°ë•Œë¬¸ì— ë§Œì•½ ì‚­ì œ ë˜ì–´ì•¼í•˜ëŠ” ë¦¬ì†ŒìŠ¤ë¼ë©´ ì‚­ì œ ì ˆì°¨ë¥¼ ë„£ì–´ì„œ ì§ì ‘ ìˆ˜ëª…ì£¼ê¸°ë¥¼ ê´€ë¦¬í•´ì¤˜ì•¼í•œë‹¤.
ì•¤ì„œë¸”ì€ íŒŒì´ì¬ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ìˆì–´, ëª…ë ¹ ì‹¤í–‰ ì‹œ íŒŒì´ì¬ì´ ë™ì‘ëœë‹¤. ê·¸ë ‡ê¸°ì— ëª…ë ¹ ìˆ˜í–‰ì„ ìœ„í•´ ëª¨ë“  ë…¸ë“œ(control+managed)ì—ëŠ” íŒŒì´ì¬ì´ ì„¤ì¹˜ ë˜ì–´ìˆì–´ì•¼ í•œë‹¤. ì•¤ì„œë¸” ì„¤ì¹˜ëŠ” control nodeì—ë§Œ ì„¤ì¹˜í•˜ë©´ ë˜ê³ , managed nodeì— ì ‘ê·¼ì„ ssh protocolì„ ì‚¬ìš©í•˜ë¯€ë¡œ ì—ì´ì „íŠ¸ë¥¼ ì„¤ì¹˜ í•  í•„ìš”ê°€ ì—†ë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤. ([ì„¤ì¹˜ğŸ”—](https://docs.ansible.com/ansible/latest/installation_guide/installation_distros.html#installing-ansible-on-ubuntu))


# ansible ì•„í‚¤í…ì²˜ [ğŸ”—](https://docs.ansible.com/ansible/latest/getting_started/index.html)

![1-0](/assets/img/a101/1w/1-0.svg)

### ì£¼ìš” ì»´í¬ë„ŒíŠ¸ë“¤
- controle node: ì•¤ì„œë¸”ì´ ì„¤ì¹˜, ì œì–´í•˜ëŠ” ë…¸ë“œ
- managed node: í˜¸ìŠ¤íŠ¸ë¼ê³ ë„ í•˜ë©°, ê´€ë¦¬í•˜ë ¤ëŠ” ë…¸ë“œ. 
- inventory: managed nodeë“¤ì„ ip ë‚˜ í˜¸ìŠ¤íŠ¸ëª… ë“±ìœ¼ë¡œ ì‘ì„±í•œ íŒŒì¼. ë‚˜ì—´ëœ ë¦¬ìŠ¤íŠ¸ë¥¼ ê·¸ë£¹í™”í•˜ì—¬ íƒœìŠ¤í¬ë‚˜ ë³€ìˆ˜ í• ë‹¹ ë“±ì´ ê°€ëŠ¥í•˜ë‹¤.
- module: í˜¸ìŠ¤íŠ¸ì— ì‘ì—…ì„ ì‹¤í–‰ í•  ìˆ˜ ìˆëŠ” ì½”ë“œ ë‹¨ìœ„. ëª…ë ¹ì¤„ì´ë‚˜ í”Œë ˆì´ë¶ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•˜ë‹¤.

### ë™ì‘ ë°©ì‹
ë™ì‘ë°©ì‹ì€, ì•¤ì„œë¸”ì´ ì„¤ì¹˜ëœ control nodeì—ì„œ ì•¤ì„œë¸” ëª…ë ¹ì„ ì‹¤í–‰í•˜ê²Œ ë˜ë©´, ì¸ë²¤í† ë¦¬ì— ì‘ì„±ë˜ì–´ìˆëŠ” managed node ëª©ë¡ì„ ë³´ê³  í•´ë‹¹ ë…¸ë“œë¥¼ ì œì–´ í•˜ê²Œëœë‹¤.
control nodeì—ì„œ ì•¤ì„œë¸” ëª…ë ¹ ì‹¤í–‰
0(ì‚¬ì „ì‘ì—…). ë…¸ë“œê°„ì˜ ì—°ê²°ì€ ssh protocolì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—, ssh í‚¤ ì¸ì¦ì„ ë¨¼ì € ì§„í–‰í•œë‹¤. 
1. control nodeì—ì„œ managed node(í˜¸ìŠ¤íŠ¸)ì— 0ì—ì„œ ì¸ì¦í•´ë‘” í‚¤ê¸°ë°˜ìœ¼ë¡œ ì ‘ê·¼í•˜ì—¬, ê° ëª…ë ¹ì€ ëª¨ë“ˆë¡œ í˜¸ìŠ¤íŠ¸ì— ì „ë‹¬ëœë‹¤.
2. í˜¸ìŠ¤íŠ¸ì—ì„œëŠ” ìš”ì²­í•œ ìƒíƒœê°€ ë˜ë„ë¡ ëª¨ë“ˆì´ ì‹¤í–‰ëœë‹¤.
3. managed nodeë¡œ ê²°ê³¼ ê°’ì´ ì „ë‹¬ë˜ê³ , í˜¸ìŠ¤íŠ¸ì—ì„œ ì™„ë£Œí•œ ëª¨ë“ˆ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì œê±°ëœë‹¤. 

# ansible ì¸ì¦ êµ¬ì„±
ì•¤ì„œë¸”ì€ ssh í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì¸ì¦ì„ ìœ„í•´ ë¡œì»¬ì‚¬ìš©ìì—ê²Œ ê°œì¸ sshí‚¤ê°€ ìˆê±°ë‚˜ managed nodeì—ì„œ ì›ê²© ì‚¬ìš©ìì„ì„ ì¸ì¦ ê°€ëŠ¥í•œ í‚¤ê°€ êµ¬ì„±ë˜ì–´ ìˆì–´ì•¼ ìë™ë¡œê·¸ì¸ ëœë‹¤. ssh í‚¤ê¸°ë°˜ì¸ì¦ì„ ìœ„í•´ ssh-keygenìœ¼ë¡œ í‚¤ ìƒì„± í›„ ssh-copy-idë¡œ ê³µê°œí‚¤ë¥¼ ê° í˜¸ìŠ¤íŠ¸ì— ë³µì‚¬í–ˆë‹¤. 
```
# control nodeì—ì„œ í‚¤ ìƒì„±
ssh-keygen -t rsa -N "" -f /root/.ssh/id_rsa
# managed nodeë“¤ì—ê²Œ ê³µê°œí‚¤ë¥¼ ë³µì‚¬
ssh-copy-id root@MANAGED_NODE
```


# inventory ì‘ì„±
ìë™í™” í•  ëŒ€ìƒ, managed nodeë¥¼ ì„ ì •í•˜ì—¬ ì¸ë²¤í† ë¦¬ì— ì„¤ì •í•´ë‘¬ì•¼í•©ë‹ˆë‹¤. í˜¸ìŠ¤íŠ¸ ëª©ë¡ì„ ip í˜¹ì€ í˜¸ìŠ¤íŠ¸ëª…ìœ¼ë¡œ ì ì–´ë‘ëŠ” ì¸ë²¤í† ë¦¬ íŒŒì¼ì¸ë°, ì´ë¥¼ í¸ë¦¬í•˜ê²Œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ê·¸ë£¹ ì„¤ì •ì„ í•  ìˆ˜ê°€ ìˆë‹¤. ì‘ì„± ë°©ë²•ì€ ëŒ€ê´„í˜¸[]ë¥¼ ì‚¬ìš©í•˜ì—¬ ê·¸ë£¹ì„ ì„¤ì •í•˜ê³  í•˜ìœ„ì— ê·¸ë£¹ ëŒ€ìƒì´ ë  í˜¸ìŠ¤íŠ¸ë¥¼ ë„£ì–´ë‘ëŠ” ë°©ì‹ì´ë‹¤. ì˜ˆì‹œë¡œ ì•„ë˜ì™€ ê°™ì´ ì‘ì„± í•  ìˆ˜ ìˆë‹¤.
```
[web]
10.100.0.1
10.100.0.2
10.100.0.3
# 10.100.0.[1:3] ì—°ì†ëœ ìˆ«ìì˜ ê²½ìš° [start:end]ë¡œ ì‘ì„± ê°€ëŠ¥

[was]
a.was.test.com
b.was.test.com
c.was.test.com
# [a:c].was.test.com

[db]
db1.test.com
db2.test.com
# db[1:2].test.com

[all:childeren]
# [ê·¸ë£¹ëª…:children]ì˜ ê²½ìš° ì¤‘ì²© ê·¸ë£¹ì„ ì˜ë¯¸í•˜ë©°, í•˜ìœ„ì˜ ê·¸ë£¹ë“¤ì˜ ëª¨ë“  í˜¸ìŠ¤íŠ¸ë¥¼ í¬í•¨
web
was
db
```

### ì‹¤ìŠµì„ ìœ„í•œ ì¸ë²¤í† ë¦¬ íŒŒì¼ ì‘ì„± 
ì‹¤ìŠµ í™˜ê²½ì€ ìœ„ì˜ ì´ë¯¸ì§€ì™€ ê°™ì´ í•˜ë‚˜ì˜ control nodeì™€ 3ê°œì˜ managed nodeë¡œ êµ¬ì„± í•˜ì˜€ë‹¤. web,was,dbë¡œ ë‚˜ëˆˆ ê²ƒì€ ê·¸ëƒ¥ ë‹¨ìˆœíˆ êµ¬ë¶„ì„ ìœ„í•´ ë‚˜ëˆ„ì—ˆê³  ì‹¤ì œ ì´ì— ë§ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì˜¬ë¦¬ì§„ ì•Šì•˜ë‹¤.
```
# í˜¸ìŠ¤íŠ¸ ì„¤ì •
root@server:~/my-ansible# cat /etc/hosts | grep tnode*
10.10.1.11 tnode1
10.10.1.12 tnode2
10.10.1.13 tnode3

# ì¸ë²¤í† ë¦¬ íŒŒì¼ ë‚´ë¶€
root@server:~/my-ansible# cat inventory 
[web]
tnode1
[was]
tnode2
[db]
tnode3

[all:children]
web
was
db

# ì‘ì„±ì™„ë£Œ í›„ì—ëŠ” $ansible-inventory -i ./inventory --list í˜¹ì€ --graph ì˜µì…˜ ë“±ìœ¼ë¡œ ì¸ë²¤í† ë¦¬ ê²€ì¦ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.
root@server:~/my-ansible# ansible-inventory -i ./inventory --graph
@all:
  |--@ungrouped:
  |--@web:
  |  |--tnode1
  |--@was:
  |  |--tnode2
  |--@db:
  |  |--tnode3
```

# ansible.cfg [ğŸ”—](https://docs.ansible.com/ansible/latest/reference_appendices/config.html)
ì•¤ì„œë¸” ì‹¤í–‰ì‹œ ì‚¬ìš©ë˜ëŠ” í™˜ê²° ì„¤ì • íŒŒì¼ ì‘ì„±ì´ í•„ìš”í•˜ë‹¤. ì„¤ì • íŒŒì¼ì˜ ìœ„ì¹˜ëŠ” 'í™˜ê²½ë³€ìˆ˜ > í˜„ ë””ë ‰í† ë¦¬ì˜ ansible.cfg > home ë””ë ‰í† ë¦¬ì˜ configíŒŒì¼ > /etc/ansible/ansible.cfg' ìˆœìœ¼ë¡œ ìš°ì„ ìˆœìœ„ê°€ ë†’ê²Œ ì ìš©ëœë‹¤. í˜„ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì— ansible.cfgë¥¼ ë§Œë“¤ì–´ì„œ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆë‹¤. 
```
root@server:~/my-ansible# cat ansible.cfg 
[defaults]
inventory = ./inventory

# ì¸ë²¤í† ë¦¬ ê²€ì¦ì‹œ ìœ„ì¹˜ë¥¼ ì¶”ê°€ í•˜ì§€ ì•Šì•„ë„ ì„¤ì •íŒŒì¼ì— ìˆëŠ” ì¸ë²¤í† ë¦¬ ìœ„ì¹˜ì˜ íŒŒì¼ì„ ì°¸ì¡°í•œë‹¤.
root@server:~/my-ansible# ansible-inventory --graph -v
Using /root/my-ansible/ansible.cfg as config file  # ì–´ëŠ config fileì„ ì°¸ì¡°í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤.
@all:
  |--@ungrouped:
  |--@web:
  |  |--tnode1
  |--@was:
  |  |--tnode2
  |--@db:
  |  |--tnode3
root@server:~/my-ansible# ansible-config view
[defaults]
inventory = ./inventory
```

íŒŒì¼ì˜ êµ¬ì„±ì€ [defaults]ì™€ [privilege_escalation] ë‘ ê°œì˜ ì„¹ì…˜ìœ¼ë¡œ ë‚˜ë‰œë‹¤. [default]ì˜ remote_userë¡œ ë¨¼ì € ì ‘ê·¼í•˜ì—¬ ì‘ì—… ì¤‘ ê¶Œí•œ í•„ìš”ì‹œ, ê¶Œí•œì„ ì—ìŠ¤ì»¬ë ˆì´ì…˜í•˜ì—¬ [privilege_escalation]ì˜ become_userì˜ ê¶Œí•œìœ¼ë¡œ ì‘ì—…í•˜ê²Œ ëœë‹¤.
```
root@server:~/my-ansible# ansible-config view
[defaults]
inventory = ./inventory #ì¸ë²¤í† ë¦¬ ê²½ë¡œ
remote_user = root #ì•¤ì„œë¸”ì´ managed nodeì— ì—°ê²° ì‹œ ì‚¬ìš©í•˜ëŠ” ì‚¬ìš©ì ì´ë¦„ ì§€ì •
ask_pass = false #ssh ì•”í˜¸ë¥¼ ë¬»ëŠ” ë©”ì„¸ì§€ í‘œì‹œ ì—¬ë¶€

[privilege_escalation]
become = true #ê¶Œí•œ ì—ìŠ¤ì»¬ë ˆì´ì…˜ í™œì„±í™” ì—¬ë¶€
become_method = sudo #ì‚¬ìš©ì ì „í™˜ ë°©ì‹ 
become_user = root #ì „í™˜í•  ì‚¬ìš©ì 
become_ask_pass = false #ì „í™˜ ì‹œ ì•”í˜¸ë¥¼ ë¬»ëŠ” ë©”ì„¸ì‹œ í‘œì‹œ ì—¬ë¶€
```

# ì•¤ì„œë¸” ëª…ë ¹ì¤„ ì‹¤í–‰(ad hoc commands) [ğŸ”—](https://docs.ansible.com/ansible/latest/command_guide/intro_adhoc.html)
ì•¤ì„œë¸” ëª…ë ¹ì–´ë¡œë„ ì‹¤í–‰ ê°€ëŠ¥í•˜ë‹¤. ëª…ë ¹ì–´ ì‹¤í–‰ì‹œ, ìœ„ì—ì„œ ì‘ì„±í•œ ì¸ë²¤í† ë¦¬ì—ì„œ í˜¸ìŠ¤íŠ¸ë¥¼ ì°¾ì•„ê°€ ì‹¤í–‰ë˜ëŠ” ëª¨ë“ˆì„ ìˆ˜í–‰í•œë‹¤. $ansible PATTERN -m MODULE -a OPTION ìœ¼ë¡œ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰ í•  ìˆ˜ ìˆë‹¤. ì˜ˆì‹œë¡œ Pingì„ í•œ ë²ˆ ë‚ ë ¤ë³´ì•˜ë‹¤. ansibleì—ì„œì˜ pingì€ ìš°ë¦¬ê°€ í”íˆ ì•„ëŠ” icmpë¥¼ ì‚¬ìš©í•œ ê²ƒì´ ì•„ë‹ˆë¼, ansibleì—ì„œ pythonìœ¼ë¡œ ë§Œë“  í…ŒìŠ¤íŠ¸ ëª¨ë“ˆì´ë‹¤.
```
root@server:~/my-ansible# ansible -m ping web 
tnode1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3" #icmpí”„ë¡œí† ì½œì´ ì•„ë‹ˆë¼ python3ì´ ë™ì‘í–ˆë‹¤.
    },
    "changed": false,
    "ping": "pong"
}

# managed nodeë¡œ ê³µìœ ëœ ê³µê°œí‚¤ëŠ” rootì´ê¸° ë•Œë¬¸ì— ubuntu userë¡œ ì ‘ê·¼ì‹œ --ask-passë¡œ í‚¤ ì¸ì¦ì„ ë°›ì•„ì•¼í•œë‹¤.
root@server:~/my-ansible# ansible -m ping web -u ubuntu
tnode1 | UNREACHABLE! => {
    "changed": false,
    "msg": "Failed to connect to the host via ssh: ubuntu@tnode1: Permission denied (publickey,password).",
    "unreachable": true
}
root@server:~/my-ansible# ansible -m ping web -u ubuntu --ask-pass
SSH password: 
tnode1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3
    },
    "changed": false,
    "ping": "pong"
}
```


# playbook [ğŸ”—](https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_intro.html)
ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ëŠ” ëª…ë ¹ì¤„ë¡œ í•  ìˆ˜ ìˆì§€ë§Œ, ì¬ì‚¬ìš© ê°€ëŠ¥í•œ íŒŒì¼ë¡œ í”Œë ˆì´ë¶ì„ ë§Œë“¤ì–´ì„œ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì•¤ì„œë¸”ì„ ì‚¬ìš©í•˜ëŠ”ë°ì— ìˆëŠ” ì´ì ì´ë‹¤. í”Œë ˆì´ë¶ì€ yaml í˜•ì‹ìœ¼ë¡œ ì‘ì„±ë˜ì–´ ìœ„ì—ì„œë¶€í„° taskê°€ ìˆ˜í–‰ëœë‹¤. ì˜ˆì‹œë¡œ, ì•„ë˜ì˜ í”Œë ˆì´ë¶ì˜ ê²½ìš° 'dbì—ì„œ debug ë©”ì„¸ì§€ ì¶œë ¥ > ëª¨ë“  í˜¸ìŠ¤íŠ¸ì—ì„œ sshd ì¬ì‹œì‘' ìˆœìœ¼ë¡œ ì‹¤í–‰ëœë‹¤. 

$ansible-playbook NAME.yaml í˜•íƒœë¡œ í”Œë ˆì´ë¶ ì‹¤í–‰ì„ í•  ìˆ˜ ìˆë‹¤. ì—¬ê¸°ì— --syntax-check ì˜µì…˜ì„ ë¶™ì—¬ ì‹¤í–‰ ì „ ë¬¸ë²•ì„ ì ê²€í•œë‹¤.
![1-1](/assets/img/a101/1w/1-1.png)

```
# ëª‡ê°€ì§€ ì˜µì…˜ë“¤
# --step: ìŠ¤í…ë§ˆë‹¤ ì§„í–‰ ì—¬ë¶€ í™•ì¸
root@server:~/my-ansible# ansible-playbook test.yaml --step
PLAY [db] ************************************************************************************************************
Perform task: TASK: Gathering Facts (N)o/(y)es/(c)ontinue: yes
Perform task: TASK: Gathering Facts (N)o/(y)es/(c)ontinue: ***********************************************************
TASK [Gathering Facts] ***********************************************************************************************
ok: [tnode3]
...

# --start-at-task: ì‹œì‘í•  íƒœìŠ¤í¬ ì§€ì •
# PLAY[db]ëŠ” factsì¡°ì°¨ ìˆ˜ì§‘í•˜ì§€ ì•Šê³  ë„˜ì–´ê°€ëŠ” ê²ƒì„ í™•ì¸
root@server:~/my-ansible# ansible-playbook test.yaml --start-at-task="Restart sshd service"
PLAY [db] ************************************************************************************************************
PLAY [all] ***********************************************************************************************************
TASK [Gathering Facts] ***********************************************************************************************
ok: [tnode3]
ok: [tnode2]
ok: [tnode1]
TASK [Restart sshd service] ******************************************************************************************
changed: [tnode2]
changed: [tnode3]
changed: [tnode1]
PLAY RECAP ***********************************************************************************************************
tnode1                     : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
tnode2                     : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
tnode3                     : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

# --limit: íŠ¹ì • í˜¸ìŠ¤íŠ¸ë§Œ ì‹¤í–‰
# 'hosts: db'ì˜ ê²½ìš° í•´ë‹¹ì‚¬í•­ì´ ì—†ì–´ì„œ ìŠ¤í‚µë¨
root@server:~/my-ansible# ansible-playbook test.yaml --limit web
PLAY [db] ************************************************************************************************************
skipping: no hosts matched
PLAY [all] ***********************************************************************************************************
TASK [Gathering Facts] ***********************************************************************************************
ok: [tnode1]
TASK [Restart sshd service] ******************************************************************************************
changed: [tnode1]
PLAY RECAP ***********************************************************************************************************
tnode1                     : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
```

ì´ ì™¸ì—ë„ íƒœìŠ¤í¬ì— íƒœê·¸ë¥¼ ë¶™ì—¬ì„œ í•´ë‹¹ íƒœìŠ¤í¬ë¶€í„° í˜¹ì€ í•´ë‹¹ íƒœê·¸ê°€ ë¶™ì€ íƒœìŠ¤í¬ëŠ” ìŠ¤í‚µë˜ë„ë¡ ì„¤ì • í•  ìˆ˜ ìˆë‹¤. ì˜ˆì‹œë¡œ hosts: db í•˜ìœ„ì— tagë¥¼ ë¶™ì´ê³  ì´ë¥¼ ìŠ¤í‚µí•˜ë„ë¡ ì„¤ì •í•˜ì˜€ëŠ”ë°, ì´ ê²½ìš°ì—ëŠ” dbì— ëŒ€í•´ facts ëŠ” ìˆ˜ì§‘í•˜ì§€ë§Œ íƒœê·¸ê°€ ë‹¬ë¦° íƒœìŠ¤í¬ì— ëŒ€í•´ì„œëŠ” ì‹¤í–‰ë˜ì§€ ì•Šê³  ë„˜ì–´ê°„ë‹¤.
![1-2](/assets/img/a101/1w/1-2.png)

ìœ„ì—ì„œ ë§í•œ ê²ƒì²˜ëŸ¼ ì•¤ì„œë¸”ì€ ìœ„ì—ì„œë¶€í„° í•˜ë‚˜ì”© íƒœìŠ¤í¬ê°€ ìˆ˜í–‰ëœë‹¤. ì—¬ëŸ¬ íƒœìŠ¤í¬ë¥¼ ë‹¤ì¤‘ í˜¸ìŠ¤íŠ¸ì—ì„œ ì‹¤í–‰ì‹œ ì¤‘ê°„ì— ì‹¤íŒ¨í•œ í˜¸ìŠ¤íŠ¸ëŠ” íƒœìŠ¤í¬ê°€ ì‹¤í–‰ë˜ì§€ì•Šê³ , ì„±ê³µí•œ í˜¸ìŠ¤íŠ¸ì—ì„œë§Œ ì‹¤í–‰ëœë‹¤. ì˜ˆë¥¼ ë“¤ì–´ host1,2 ëª¨ë‘ task1,2,3ì´ ìˆ˜í–‰ë˜ì–´ì•¼í•˜ëŠ” í”Œë ˆì´ë¶ì´ ì‹¤í–‰ë˜ì—ˆëŠ”ë°, tast2ì—ì„œ host1ë§Œ ì„±ê³µí•˜ê³  host2ê°€ ì‹¤íŒ¨í•˜ì˜€ë‹¤ë©´, ê·¸ ë‹¤ìŒ ì‘ì—…ì¸ task3ì€ host1ì—ë§Œ ì‹¤í–‰ëœë‹¤. ì´ ë•Œ, ë‘ í˜¸ìŠ¤íŠ¸ê°€ ì—°ë™ë˜ì–´ì„œ í•¨ê»˜ íƒœìŠ¤í¬ê°€ ëŒì•„ì•¼í•œë‹¤ë©´ í•˜ë‚˜ì˜ í˜¸ìŠ¤íŠ¸ë§Œì—ì„œ ì‹¤íŒ¨ê°€ ë‚˜ë”ë¼ë„ ë©ˆì¶”ë„ë¡ 'any_error_fetal: true' ì˜µì…˜ì„ ì“¸ ìˆ˜ ìˆë‹¤. [ğŸ”—](https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_error_handling.html)


# ë³€ìˆ˜
ë°˜ë³µì ì´ê±°ë‚˜ ê°’ì´ ê³„ì†í•´ì„œ ë³€ê²½ë˜ëŠ” ê²½ìš° ë³€ìˆ˜ë¥¼ ì‚¬ìš© í•  ìˆ˜ë„ ìˆë‹¤. ì•¤ì„œë¸”ì—ì„œ ë³€ìˆ˜ ì¢…ë¥˜ëŠ” 'ê·¸ë£¹ ë³€ìˆ˜, í˜¸ìŠ¤íŠ¸ ë³€ìˆ˜, í”Œë ˆì´ ë³€ìˆ˜, ì¶”ê°€ ë³€ìˆ˜'ê°€ ìˆìœ¼ë©° ìˆœì„œëŒ€ë¡œ ì ìš©ë˜ëŠ” ìš°ì„ ìˆœìœ„ê°€ ë†’ì•„ì§„ë‹¤. ê·¸ë£¹ ë³€ìˆ˜ëŠ” ë³€ìˆ˜ë¥¼ í˜¸ìŠ¤íŠ¸ ê·¸ë£¹ì—ì„œ ì‚¬ìš© í•  ìˆ˜ ìˆë„ë¡ ì¸ë²¤í† ë¦¬ íŒŒì¼ì— ì‘ì„±í•œë‹¤. í•˜ë‹¨ì— [group_name:vars] ì„¹ì…˜ì„ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•  â€˜ë³€ìˆ˜ëª…=ê°’â€™ì„ ì„ ì–¸í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í˜¸ìŠ¤íŠ¸ ë³€ìˆ˜ëŠ” ì¸ë²¤í† ë¦¬ íŒŒì¼ì—ì„œ í˜¸ìŠ¤íŠ¸ê°€ ì •ì˜ë˜ëŠ” ë¶€ë¶„ì— ë³€ìˆ˜ë¥¼ ë„£ì–´ì£¼ëŠ” ë°©ì‹ì´ê³ , í”Œë ˆì´ ë³€ìˆ˜ëŠ” í”Œë ˆì´ë¶ì˜ hosts í•˜ìœ„ë¡œ ë„£ì–´ì¤€ë‹¤. ì´ ì„¸ê°€ì§€ ë³€ìˆ˜ ì¢…ë¥˜ë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ì˜ˆì‹œë¡œ ì•„ë˜ íŒŒì¼ì„ ì‘ì„±í•˜ì˜€ë‹¤. webì˜ ê²½ìš°ëŠ” ê·¸ë£¹ ë³€ìˆ˜, wasì˜ ê²½ìš° ê·¸ë£¹ ë³€ìˆ˜ì™€ í˜¸ìŠ¤íŠ¸ ë³€ìˆ˜, dbì˜ ê²½ìš° ê·¸ë£¹ ë³€ìˆ˜ì™€ í˜¸ìŠ¤íŠ¸ ë³€ìˆ˜ ê·¸ë¦¬ê³  í”Œë ˆì´ ë³€ìˆ˜ê¹Œì§€ ëª¨ë‘ í•´ë‹¹ë˜ì§€ë§Œ, ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ë³€ìˆ˜ì˜ ê°’ìœ¼ë¡œ ë³€ìˆ˜ê°’ì´ ë“¤ì–´ê°€ê²Œ ëœë‹¤. ê·¸ë˜ì„œ webì˜ ê²½ìš° apacheë¡œ wasì˜ ê²½ìš° ansible1, dbëŠ” ansible2 ë¡œ userê°€ ìƒì„±ëœ ê²ƒì„ í™•ì¸ í•  ìˆ˜ìˆë‹¤.
![1-3](/assets/img/a101/1w/1-3.png)

ë§ˆì§€ë§‰ìœ¼ë¡œ ì œì¼ ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ì¶”ê°€ ë³€ìˆ˜ëŠ” ëª…ë ¹ ì¤„ì— í•¨ê»˜ ì‘ì„±í•˜ëŠ” ì¶”ê°€ ë³€ìˆ˜ì´ë‹¤. ìœ„ì˜ íŒŒì¼ì„ ë‹¤ì‹œ ì‹¤í–‰í•  ë•Œ, -e (--extra-vars) ì˜µì…˜ì„ ë„£ì–´ì¤¬ë‹¤. ì´ ë•Œ ëª¨ë“  {{ user }} ìë¦¬ì— ansible3ì´ ì ìš©ë˜ë©° ëª¨ë“  í˜¸ìŠ¤íŠ¸ì— ansible3 userê°€ ìƒì„±ëœ ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤. 
```
root@server:~/my-ansible# ansible-playbook -e user=ansible3 test.yaml 
...
root@server:~/my-ansible# ssh tnode1 ls /home/
ansible3
apache
ubuntu
root@server:~/my-ansible# ssh tnode2 ls /home/
ansible1
ansible3
ubuntu
root@server:~/my-ansible# ssh tnode3 ls /home/
ansible1
ansible2
ansible3
ubuntu
```
user ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ë©´ ì´ì „ì— ìƒì„±ëœ ansible,1,2, ëª¨ë‘ ë‚¨ì•„ ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ìœ„ì—ì„œ ë§í•œ ê²ƒì²˜ëŸ¼ ì•¤ì„œë¸”ì€ í…Œë¼í¼ì²˜ëŸ¼ ìˆ˜ëª… ì£¼ê¸°ë¥¼ ê´€ë¦¬í•˜ì§€ì•Šê¸° ë•Œë¬¸ì— ì‚­ì œë˜ì§€ ì•Šê³  ë‚¨ì•„ìˆë‹¤. í…Œë¼í¼ê³¼ ê°™ì´ ì ìœ¼ë¡œëŠ” ë©±ë“±ì„±ì„ ê°€ì§€ê³  ìˆë‹¤ëŠ” ì ì¸ë°, ìœ„ì˜ ê°™ì€ ëª…ë ¹ì–´ë¥¼ í•œë²ˆ ë” ë‚ ë ¤ë„ user: ansible3ì„ ìƒì„±í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼, ansible3 userì˜ ì¡´ì¬ë¥¼ í™•ì¸í•˜ê³  ìˆë‹¤ë©´ ì¬ìƒì„±ì„ í•˜ì§€ì•Šê³  ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.


# ì‘ì—… ë³€ìˆ˜
ì‘ì—…ë³€ìˆ˜ëŠ” ìœ„ì˜ ë³€ìˆ˜ì™€ ë‹¤ë¥´ê²Œ í…Œë¼í¼ì˜ outputê³¼ ê°™ì´ ì•¤ì„œë¸” ì‹¤í–‰í•˜ì—¬ ë‚˜ì˜¤ëŠ” ê²°ê³¼ê°’ì„ ë³€ìˆ˜ì— ì €ì¥í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤. ì•„ë˜ ì˜ˆì‹œì²˜ëŸ¼ taskìˆ˜í–‰ í•˜ìœ„ì— register: creste_user_resultë¡œ í›„, ë””ë²„ê·¸ë¡œ creste_user_resultë¥¼ ì¶œë ¥í•˜ì—¬ ê²°ê³¼ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤. ì´ë ‡ê²Œ ì¶œë ¥í•˜ë©´ í˜¸ìŠ¤íŠ¸ì— ì§ì ‘ ë“¤ì–´ê°€ì„œ ì–´ë–¤ ë³€ê²½ì‚¬í•­ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. 
![1-4](/assets/img/a101/1w/1-4.png)


### ë¦¬ì†ŒìŠ¤ ì •ã„¹ã…£ing ğŸ’¬
ë‹¤ìŒ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê¸° ì „ ë§Œë“¤ì—ˆë˜ ì‚¬ìš©ìë“¤ì„ ëª¨ë‘ ì‚­ì œ ì •ë¦¬í•˜ì˜€ë‹¤. ì¶”ê°€ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë§Œë“  ansible3ê¹Œì§€ ë‹¤ì‹œ ì¶”ê°€ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚­ì œí•˜ì˜€ë‹¤.
![1-5](/assets/img/a101/1w/1-5.png)
![1-6](/assets/img/a101/1w/1-6.png)


# ansible vault
ì•¤ì„œë¸”ì€ ì½”ë“œê¸°ë°˜ìœ¼ë¡œ ì‹¤í–‰ë˜ë‹¤ë³´ë‹ˆ, íŒ¨ìŠ¤ì›Œë“œë‚˜ í‚¤ ë“± ì¤‘ìš”í•œ ê²ƒë“¤ì´ í”Œë ˆì´ë¶ì´ë‚˜ ë³€ìˆ˜ì— ê·¸ëŒ€ë¡œ ì‘ì„±ë  ìˆ˜ê°€ ìˆë‹¤. ì´ë ‡ê²Œ ë˜ë©´ ì ‘ê·¼ ê¶Œí•œì´ ìˆëŠ” ì‚¬ìš©ì ëª¨ë‘ê°€ íŒŒì¼ì„ ì½ì„ ìˆ˜ ìˆìœ¼ë‹ˆ, ë³´ì•ˆì„ ìœ„í•´ ë°ì´í„° íŒŒì¼ì„ ì•”í˜¸í™”í•˜ê³  í•´ë…í•˜ëŠ” ansible vaultê°€ ìˆë‹¤. ì•”í˜¸í™”/ë³µí˜¸í™” ëª¨ë‘ íŒŒì¼ì„ ìƒì„±í•œ ì†Œìœ ìë§Œ ì½ê³  ì“¸ ìˆ˜ ìˆê²Œ ì„¤ì •ëœë‹¤.

### ì•”í˜¸í™”
ansible-vault create ëª…ë ¹ ì‹¤í–‰ì‹œ ì•”í˜¸ë¥¼ ì…ë ¥í•˜ê³  ë“¤ì–´ê°€ ì•”í˜¸í™” í•  ë‚´ìš©ì„ ì‘ì„±í•œë‹¤. ë§Œì•½ ì…ë ¥ í•  ì•”í˜¸ê°€ ì íŒ ê¸°ì¡´ íŒŒì¼ì´ ìˆë‹¤ë©´, --vault-pass-fileì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì•”í˜¸í™” í•  ë‚´ìš©ì„ ì‘ì„±í•˜ëŠ” ë‹¨ê³„ë¡œ ë°”ë¡œ ë„˜ì–´ ê°ˆ ìˆ˜ ìˆë‹¤.

$ansible-vault create ì•”í˜¸í™”_ë _íŒŒì¼.yaml #ì•”í˜¸í™” í•  íŒŒì¼ì„ ansible-vaultë¡œ ì§€ì •í•˜ë©° ì‘ì„± 

$ansible-vault create --vault-pass-file ì•”í˜¸ê°€_ì‘ì„±ëœ_íŒŒì¼ ì•”í˜¸í™”_ë _íŒŒì¼.yaml #ì•”í˜¸ê°€ ì‘ì„±ë˜ì–´ì•”í˜¸í™”

$ansible-vault encrypt ì•”í˜¸í™”_í• _íŒŒì¼.yaml #ì•”í˜¸í™” í•  íŒŒì¼ 

```
root@server:~/my-ansible# ansible-vault create mysecret.yaml
New Vault password: 
Confirm New Vault password:

# ìƒì„±ëœ íŒŒì¼ì€ ìƒì„±í•œ ì†Œìœ ìë§Œ ì½ê³  ì“¸ ìˆ˜ ìˆë‹¤.
root@server:~/my-ansible# ls -l vars/
-rw------- 1 root root 355 Jan 14 01:03 mysecret.yaml
```

### ë³µí˜¸í™”
$ansible-vault view ì•”í˜¸í™”_ëœ_íŒŒì¼.yaml

$ansible-vault view --vault-pass-file ì•”í˜¸ê°€_ì‘ì„±ëœ_íŒŒì¼ ì•”í˜¸í™”_ëœ_íŒŒì¼.yaml 

$ansible-vault decrypt ì•”í˜¸í™”_ëœ_íŒŒì¼.yaml --output=ë³µí˜¸í™”_ë _íŒŒì¼.yaml

```
#ansible-vault view
root@server:~/my-ansible# cat passwd 
P@ssw0rd
root@server:~/my-ansible# ansible-vault view --vault-pass-file passwd mysecret.yaml 
user: test

#ansible-vault decrypt
root@server:~/my-ansible# ansible-vault decrypt mysecret.yaml --output=decrypt_mysecret.yaml
Vault password: 
Decryption successful
root@server:~/my-ansible# cat decrypt_mysecret.yaml 
user: test
```

### ì•”í˜¸ ë³€ê²½
$ansible-vault rekey ì•”í˜¸í™”_ëœ_íŒŒì¼.yaml

$ansible-vault rekey --new-vault-password-file=ìƒˆ_ì•”í˜¸_íŒŒì¼ ì•”í˜¸í™”_ëœ_íŒŒì¼.yaml

```
root@server:~/my-ansible# ansible-vault rekey mysecret.yaml 
Vault password: 
New Vault password: 
Confirm New Vault password: 
Rekey successful
```

### ì•”í˜¸í™” íŒŒì¼ ì‚¬ìš© 
ì•”í˜¸í™”ëœ íŒŒì¼ì´ í¬í•¨ëœ í”Œë ˆì´ë¶ ì‹¤í–‰ì‹œì—ëŠ” vault-id @promp ì˜µì…˜ì„ ë¶™ì—¬ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ì•”í˜¸í™”ë˜ì–´ìˆëŠ” íŒŒì¼ì„ ansibleì´ ì—´ì§€ë¥¼ ëª»í•´ ì•”í˜¸ë¥¼ ì…ë ¥í•˜ëŠ” í”„ë¡¬í”„íŠ¸ê°€ í•œë²ˆ ëœ¬ë‹¤. ë§Œì•½ ì•”í˜¸ê°€ ì íŒ íŒŒì¼ì„ ì‚¬ìš©í•œë‹¤ë©´ --vault-password-file=ì•”í˜¸íŒŒì¼ ì˜µì…˜ì„ ë¶™ì—¬ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤(ì´ ë•Œ ì•”í˜¸ ì íŒ íŒŒì¼ì˜ ê¶Œí•œ ê´€ë¦¬ë¥¼ ì˜í•´ì¤˜ì•¼í•œë‹¤.. 600). í˜¹ì€ ansible.cfgì—ì„œ 'vault_password_file=ì•”í˜¸íŒŒì¼ìœ„ì¹˜' ë¥¼ ë„£ì–´ì„œë„ ì°¸ì¡°ê°€ ê°€ëŠ¥í•˜ë‹¤.

$ansible-playbook vault-id @prompt test.yaml

![1-7](/assets/img/a101/1w/1-7.png)

ansibleì„ ì—¬ëŸ¬ í™˜ê²½ì—ì„œ ì‚¬ìš©í•˜ë‹¤ë³´ë©´, ansible-vaultë„ êµ¬ë¶„ì´ í•„ìš”í•´ì§ˆ ê²ƒì´ë‹¤. ê·¸ë˜ì„œ ìˆëŠ” ê²ƒì´ vault-idë¡œ ì—¬ëŸ¬ ë¹„ë°€ë²ˆí˜¸ë¥¼ ê´€ë¦¬ í•  ìˆ˜ê°€ ìˆë‹¤. ì•”í˜¸í™” í•  ë•Œë¶€í„° --vault-id=dev@prompt(í˜¹ì€ ì•”í˜¸ë‚˜ ì•”í˜¸íŒŒì¼ìœ„ì¹˜)ë¥¼ ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤.

$ansible-playbook --vault-id=username@prompt

![1-8](/assets/img/a101/1w/1-8.png)

ansibleì€ ì•”í˜¸í™”ëœ íŒŒì¼ì˜ ì½˜í…ì¸ ì˜ í•„ìš” ìœ ë¬´ë¥¼ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—, í”Œë ˆì´ë¶ì—ì„œ ì°¸ì¡°ë˜ëŠ” ì•”í˜¸í™” íŒŒì¼ì„ ëª¨ë‘ë¥¼ ë³µí˜¸í™” í•œë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë§Œì•½ ì•„ì£¼ ì¼ë¶€ì˜ ì•”í˜¸í™”ëœ ë³€ìˆ˜ ì‚¬ìš©ì´ í•„ìš”í•˜ë‹¤ë©´ encrypt_stringìœ¼ë¡œ ì¼ë¶€ë§Œ ì•”í˜¸í™”í•˜ì—¬ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.

$ansible-vault encrypt_string <password_source> '<string_to_encrypt>' --name '<string_name_of_variable>'

# facts
ì•¤ì„œë¸”ì´ ê¸°ë³¸ì ìœ¼ë¡œ managed nodeì—ì„œ ìˆ˜ì§‘í•˜ëŠ” í˜¸ìŠ¤íŠ¸ ì •ë³´ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ í˜¸ìŠ¤íŠ¸ì´ë¦„, ì»¤ë„ë²„ì „, ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ ë“± ë§ì€ ê°’ì´ ìˆ˜ì§‘ëœë‹¤. ì „ì²´ ìˆ˜ì§‘ì •ë³´ëŠ” ì•„ë˜ í”Œë ˆì´ë¶ì„ ëŒë ¤ì„œ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤.
![1-9](/assets/img/a101/1w/1-9.png)

ìœ„ì—ì„œ ìˆ˜ì§‘ë˜ëŠ” factsë“¤ì„ ë³€ìˆ˜ë¡œë„ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
![1-10](/assets/img/a101/1w/1-10.png)

### facts ë¹„í™œì„±í™”
ì›í• ì‹œì—ëŠ” ì´ë ‡ê²Œ factsê°€ ìˆ˜ì§‘ë˜ëŠ” ê¸°ëŠ¥ì„ hosts í•˜ìœ„ì— gather_facts: no ì˜µì…˜ì„ ë„£ì–´ ë¹„í™œì„±í™” í•  ìˆ˜ë„ ìˆë‹¤. ì¼ë¶€ factsë§Œ ìˆ˜ì§‘ì„ ì›í•œë‹¤ë©´ ansible.buildin.setupëª¨ë“ˆì„ ì‚¬ìš©í•˜ì—¬ gather_subsetìœ¼ë¡œ ìˆ˜ì§‘í•  factsë¥¼ ì§€ì •í•œë‹¤. [ğŸ”—](https://docs.ansible.com/ansible/latest/collections/ansible/builtin/setup_module.html)
gather_facts: noë¡œ ì„¤ì •í•˜ì˜€ê¸° ë•Œë¬¸ì—, fatsë¡œ ìˆ˜ì§‘ë˜ëŠ” ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ë ¤í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.
![1-11](/assets/img/a101/1w/1-11.png)

gather_subsetìœ¼ë¡œ networkë§Œ ìˆ˜ì§‘í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ìˆ˜ì§‘í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ì„¤ì • í›„, ì •ë§ ê·¸ëŸ°ì§€ í™•ì¸í•´ë³´ì•˜ë‹¤. ê²°ê³¼ë¥¼ ë³´ë©´ network ê´€ë ¨ ì •ë³´ëŠ” ì˜ ê°€ì ¸ì˜¤ëŠ”ë°, biosê°™ì€ ì™¸ì˜ ì •ë³´ëŠ” ìˆ˜ì§‘í•˜ì§€ ëª»í•´ ì •ë³´ê°€ ì—†ëŠ” ê²ƒìœ¼ë¡œ í™•ì¸ëœë‹¤.

![1-12](/assets/img/a101/1w/1-12.png)


ì´ ì™¸ì—ë„ ì—„ì²­ë‚˜ê²Œ ë§ì€ ì •ë³´ë“¤ì´ ìˆì–´ì„œ ë…ìŠ¤ì˜ ë°”ë‹¤ë¥¼ í—¤ë§¤ëŠ” ì¼ì£¼ì°¨ì˜€ë‹¤ ğŸŸ
