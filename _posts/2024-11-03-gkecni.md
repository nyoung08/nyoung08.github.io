---
layout: post
title: kans3) gke cniì— ëŒ€í•˜ì—¬
category: 
  - study
  - gcp
tags:
  - study
  - gcp 
---


# GKE CNI 

gkeëŠ” ê¸°ë³¸ì ìœ¼ë¡œ eksì™€ ë™ì¼í•˜ê²Œ flat modeì˜ cnië¥¼ ì œê³µí•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” vpc native clusterì˜ ê²½ìš°, podë‚˜ svc ipê°€ ì„ íƒí•œ (ë…¸ë“œê°€ ì˜¬ë¼ê°€ëŠ”)subnetì˜ secondary ipë¡œ ìƒì„±ì´ ëœë‹¤. secondary ipëŠ” vmì— í˜¸ìŠ¤íŒ…ëœ ì»¨í…Œì´ë„ˆ ë“±ì—ê²Œ ë¶€ì—¬í•˜ì—¬ êµ¬ì„±í•  ìˆ˜ ìˆê²Œëœë‹¤. primary subnetê³¼ ë™ì¼í•˜ê²Œ routesì—ë„ ë“¤ì–´ê°€ê³ , routerë¥¼ í†µí•´ ê´‘ê³ ë„ ë˜ê¸° ë•Œë¬¸ì— ì¶”ê°€ì‘ì—… ì—†ì´ ë‚´ë¶€ í†µì‹ ì´ ê°€ëŠ¥í•˜ë‹¤. overlay networkê°€ ì•„ë‹ˆì—¬ì„œ, í´ëŸ¬ìŠ¤í„° ê°„ ë¿ë§Œ ì•„ë‹ˆë¼ vpc ë‚´ë¶€ì™€ vpcì™€ ì—°ê²°ëœ ë„¤íŠ¸ì›Œí¬ ì‚¬ì´ì—ì„œ ë¼ìš°íŒ… ì²˜ë¦¬ë§Œ ë˜ì—ˆë‹¤ë©´ podë‘ë„ ì§ì ‘ í†µì‹ ë˜ì–´ ë°”ë¡œ ì‹ë³„ê°€ëŠ¥í•˜ë‹¤. ë‹¨ì ì´ë¼í•˜ë¯„.. ì´ë ‡ê²Œ ë˜ë©´ podì™€ svc ipê¹Œì§€ ê²¹ì¹˜ì§€ ì•Šë„ë¡ ì˜ êµ¬ì„±í•˜ì—¬ ë¶€ì—¬í•´ì•¼í•œë‹¤.

![1-0](/assets/img/kans3-2024/w9/1-0.svg)
ì´ë¯¸ì§€ì¶œì²˜[ğŸ”—](https://cloud.google.com/kubernetes-engine/docs/concepts/gke-compare-network-models#fully-integrated-model)


# ì‹¤ìŠµ

## ì‹¤ìŠµ í™˜ê²½

í´ëŸ¬ìŠ¤í„° êµ¬ì„±
```
# í´ëŸ¬ìŠ¤í„° ì„¤ì •ì„ ë‹¤ ì“°ê¸°ì—” ë§ê³ .. ëª‡ê°œê°’ë§Œ ë³´ë©´ ì•„ë˜ì™€ ê°™ë‹¤.
--zone "asia-northeast3-a" 
--cluster-version "1.30.5-gke.1355000"
--enable-ip-alias 
--enable-master-authorized-networks 
--master-authorized-networks $MY_IP
# í´ëŸ¬ìŠ¤í„° ë‚´ë¶€ì— node poolêµ¬ì„±ìœ¼ë¡œ ë“¤ì–´ê°€ê²Œ ë˜ëŠ”ë°, ì´ëŠ” instance groupì´ë¼ ë³´ë©´ëœë‹¤(ì‹¤ì œë¡œ migë¡œ ìƒì„±ë¨)
--machine-type "e2-medium" 
--image-type "COS_CONTAINERD" 
--num-nodes "2"
```

í…ŒìŠ¤íŠ¸ì‹œ ì‚¬ìš© í•  ì´ë¯¸ì§€ ìƒì„±
```
# ì›¹ì´ë‘ tcpdumpë¥¼ í•œë²ˆì— í•  ìˆ˜ ìˆëŠ” ì´ë¯¸ì§€ë¥¼ ëª¨ë¥´ê² ì–´ì„œ.. ê·¸ëƒ¥ nginxì— tcpdump ì„¤ì¹˜í•œ ì´ë¯¸ì§€ ë§Œë“¤ì—ˆë‹¤..
â¯ cat Dockerfile
FROM nginx:latest

RUN apt-get update && apt-get install -y tcpdump

# cloud buildë¥¼ ì¨ì„œ artifact registryì— ë„£ì–´ì„œ ì‚¬ìš©
â¯ gcloud builds submit --region=asia-northeast3 --tag asia-northeast3-docker.pkg.dev/$PROJECTID/test/testimg:1
```

```
â¯ k get no
NAME                                                  STATUS   ROLES    AGE    VERSION
gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-3dm6   Ready    <none>   141m   v1.30.5-gke.1355000
gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj   Ready    <none>   141m   v1.30.5-gke.1355000

# ì²«ë²ˆì§¸ ë…¸ë“œë¡œ ì ‘ì†
â¯ gcloud compute ssh gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-3dm6

# host-local ipamì‚¬ìš©í•˜ëŠ” ê²ƒì„ í™•ì¸
eunyoung@gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-3dm6 ~ $ sudo cat /etc/cni/net.d/10-containerd-net.conflist
{
  "name": "k8s-pod-network",
  "cniVersion": "0.3.1",
  "plugins": [
    {
      "type": "ptp",
      "mtu": 1460,
      "ipam": {
        "type": "host-local",
        "subnet": "10.32.0.0/24",
        "routes": [
          {
            "dst": "0.0.0.0/0"
          }
        ]
      }
    },
    {
      "type": "portmap",
      "capabilities": {
        "portMappings": true
      }
    }
  ]
}


# kube-proxy ë°ëª¬ì…‹ì„ ì‚´í´ë´¤ë‹¤.
# ê¸°ë³¸ìœ¼ë¡œ iptables proxy modeë¥¼ ì“°ëŠ”ê±´ ì•Œì§€ë§Œ.. ì•ˆë³´ì—¬ì„œ ë’¤ì ê±°ë ¤ë´¤ë‹¤...
â¯ kubectl -n kube-system get daemonset kube-proxy -o yaml
apiVersion: apps/v1
kind: DaemonSet
...
    spec:
      containers:
      - command:
        - /bin/sh
        - -c
        - kube-proxy --cluster-cidr=10.32.0.0/14 --oom-score-adj=-998 --v=2 --feature-gates=InTreePluginAWSUnregister=true,InTreePluginAzureDiskUnregister=true,InTreePluginvSphereUnregister=true,DisableKubeletCloudCredentialProviders=true,UnauthenticatedHTTP2DOSMitigation=true,KMSv1=true
          --iptables-sync-period=1m --iptables-min-sync-period=10s --ipvs-sync-period=1m
          --ipvs-min-sync-period=10s --detect-local-mode=NodeCIDR 1>>/var/log/kube-proxy.log
          2>&1
          
# ì„¤ì •ê°’ì„ ì–´ë”˜ê°€ì—ì„œ ì°¾ê¸°ëŠ” ì• ë§¤í•´ë³´ì—¬ì„œ ë¡œê·¸ë¥¼ í™•ì¸í•´ë´„
# ë³´ë©´ ì£¼ê¸°ì ìœ¼ë¡œ iptablesë¥¼ ë™ê¸°í™” í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.  
eunyoung@gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-3dm6 ~ $ tail -5 /var/log/kube-proxy.log
I1102 18:30:37.833370       1 proxier.go:1494] "Reloading service iptables data" numServices=0 numEndpoints=0 numFilterChains=5 numFilterRules=2 numNATChains=4 numNATRules=5
I1102 18:30:37.844172       1 proxier.go:799] "SyncProxyRules complete" elapsed="15.285634ms"
I1102 18:32:05.617089       1 proxier.go:805] "Syncing iptables rules"
I1102 18:32:05.622239       1 proxier.go:1494] "Reloading service iptables data" numServices=7 numEndpoints=8 numFilterChains=6 numFilterRules=4 numNATChains=4 numNATRules=12
I1102 18:32:05.639250       1 proxier.go:799] "SyncProxyRules complete" elapsed="22.197176ms"
```


## íŒŒë“œê°„ í†µì‹ 

```
â¯ cat test-pod.yaml
apiVersion: v1
kind: Pod
metadata:
  name: pod1
spec:
  nodeName: gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-3dm6
  containers:
  - name: pod1
    image: nicolaka/netshoot
    command: ["tail"]
    args: ["-f", "/dev/null"]
  terminationGracePeriodSeconds: 0
---
apiVersion: v1
kind: Pod
metadata:
  name: pod2
spec:
  nodeName: gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj
  containers:
  - name: pod2
    image: nicolaka/netshoot
    command: ["tail"]
    args: ["-f", "/dev/null"]
  terminationGracePeriodSeconds: 0

â¯ k apply -f test-pod.yaml

# pod1ì— ì ‘ì†í•˜ì—¬ podë¡œ ping 
â¯ k exec -it pod1 -- /bin/sh
~ # ip a
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
2: eth0@if7: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1460 qdisc noqueue state UP group default
    link/ether 5a:ee:33:89:1f:6e brd ff:ff:ff:ff:ff:ff link-netnsid 0
    inet 10.32.0.5/24 brd 10.32.0.255 scope global eth0
       valid_lft forever preferred_lft forever
# pod2 ip = 10.32.1.13
~ # ping -c 3 10.32.1.13
PING 10.32.1.13 (10.32.1.13) 56(84) bytes of data.
64 bytes from 10.32.1.13: icmp_seq=1 ttl=62 time=0.746 ms
64 bytes from 10.32.1.13: icmp_seq=2 ttl=62 time=0.179 ms
64 bytes from 10.32.1.13: icmp_seq=3 ttl=62 time=0.192 ms

--- 10.32.1.13 ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2054ms
rtt min/avg/max/mdev = 0.179/0.372/0.746/0.264 ms

# pod2ì—ì„œëŠ” tcpdumpë¡œ í™•ì¸í•´ë³´ë©´ arpí˜¸ì¶œí•´ì„œ macì£¼ì†Œë¥¼ ì•Œì•„ë‚¸ ë’¤ ë°”ë¡œ pod2ë¡œ ì˜¨ë‹¤.
~ # tcpdump
tcpdump: verbose output suppressed, use -v[v]... for full protocol decode
listening on eth0, link-type EN10MB (Ethernet), snapshot length 262144 bytes
20:01:26.435245 ARP, Request who-has pod2 tell 10.32.1.1, length 28
20:01:26.435263 ARP, Reply pod2 is-at 02:82:6f:14:53:01 (oui Unknown), length 28
20:01:26.435267 IP 10.32.0.5 > pod2: ICMP echo request, id 15, seq 1, length 64
20:01:26.435284 IP pod2 > 10.32.0.5: ICMP echo reply, id 15, seq 1, length 64

# pod1ì´ ìˆëŠ” ë…¸ë“œì—ì„œ ë– ë´¤ì„ ë•Œì—ë„, ê° pod ipë¡œ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤.
root@gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-3dm6:~# tcpdump icmp
tcpdump: verbose output suppressed, use -v[v]... for full protocol decode
listening on eth0, link-type EN10MB (Ethernet), snapshot length 262144 bytes
20:01:26.434972 IP 10.32.0.5 > 10.32.1.13: ICMP echo request, id 15, seq 1, length 64
20:01:26.435619 IP 10.32.1.13 > 10.32.0.5: ICMP echo reply, id 15, seq 1, length 64
20:01:27.460871 IP 10.32.0.5 > 10.32.1.13: ICMP echo request, id 15, seq 2, length 64
20:01:27.461013 IP 10.32.1.13 > 10.32.0.5: ICMP echo reply, id 15, seq 2, length 64
```


## ì™¸ë¶€ì—ì„œ NodePortë¡œ í™•ì¸

```
â¯ cat svc.yaml
...
spec:
  ports:
    - name: svc-webport
      port: 9000
      targetPort: 80
      nodePort: 30007
  selector:
    app: webpod
  type: NodePort
â¯ k apply -f svc.yaml  
  
â¯ k get no -owide
NAME                                                  STATUS   ROLES    AGE   VERSION               INTERNAL-IP   EXTERNAL-IP     OS-IMAGE                             KERNEL-VERSION   CONTAINER-RUNTIME
gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-3dm6   Ready    <none>   8h    v1.30.5-gke.1355000   10.0.0.37     34.47.122.177   Container-Optimized OS from Google   6.1.100+         containerd://1.7.22
gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj   Ready    <none>   8h    v1.30.5-gke.1355000   10.0.0.38     34.64.32.222    Container-Optimized OS from Google   6.1.100+         containerd://1.7.22

# ë¡œì»¬ì—ì„œ í™•ì¸
â¯ curl 34.47.122.177:30007
<!DOCTYPE html>
<html>
<head>
<title>Welcome to nginx!</title>
...

# webpodê°€ ìˆëŠ” ë…¸ë“œì—ì„œ í™•ì¸
root@gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-3dm6:~# tcpdump src 121.167.232.64 and port 30007
tcpdump: verbose output suppressed, use -v[v]... for full protocol decode
listening on eth0, link-type EN10MB (Ethernet), snapshot length 262144 bytes
00:24:28.800102 IP 121.167.232.64.58595 > gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-3dm6.asia-northeast3-a.c.dhha-team-20221221.internal.30007: Flags [S], seq 767436524, win 65535, options [mss 1460,nop,wscale 6,nop,nop,TS val 2639455605 ecr 0,sackOK,eol], length 0
00:24:28.804698 IP 121.167.232.64.58595 > gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-3dm6.asia-northeast3-a.c.dhha-team-20221221.internal.30007: Flags [.], ack 1151346211, win 2068, options [nop,nop,TS val 2639455617 ecr 3362636754], length 0
00:24:28.804698 IP 121.167.232.64.58595 > gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-3dm6.asia-northeast3-a.c.dhha-team-20221221.internal.30007: Flags [P.], seq 0:82, ack 1, win 2068, options [nop,nop,TS val 2639455617 ecr 3362636754], length 82

# webpodì—ì„œ tcpdump í™•ì¸
00:23:03.468025 IP 10.32.0.1.21526 > webpod1.80: Flags [S], seq 4287812138, win 65535, options [mss 1460,nop,wscale 6,nop,nop,TS val 4117526044 ecr 0,sackOK,eol], length 0
00:23:03.468045 IP webpod1.80 > 10.32.0.1.21526: Flags [S.], seq 2724611818, ack 4287812139, win 21120, options [mss 1420,sackOK,TS val 3362551422 ecr 4117526044,nop,wscale 7], length 0
00:23:03.474813 IP 10.32.0.1.21526 > webpod1.80: Flags [.], ack 1, win 2068, options [nop,nop,TS val 4117526051 ecr 3362551422], length 0
00:23:03.474815 IP 10.32.0.1.21526 > webpod1.80: Flags [P.], seq 1:83, ack 1, win 2068, options [nop,nop,TS val 4117526051 ecr 3362551422], length 82: HTTP: GET / HTTP/1.1
00:23:03.474850 IP webpod1.80 > 10.32.0.1.21526: Flags [.], ack 83, win 165, options [nop,nop,TS val 3362551429 ecr 4117526051], length 0
00:23:03.475059 IP webpod1.80 > 10.32.0.1.21526: Flags [P.], seq 1:239, ack 83, win 165, options [nop,nop,TS val 3362551429 ecr 4117526051], length 238: HTTP: HTTP/1.1 200 OK
00:23:03.475140 IP webpod1.80 > 10.32.0.1.21526: Flags [P.], seq 239:854, ack 83, win 165, options [nop,nop,TS val 3362551429 ecr 4117526051], length 615: HTTP

# ìœ„ì—ì„œ ë³¸ 10.32.0.1 ipë¥¼ nodeì—ì„œ í™•ì¸í•´ë³´ë©´, podì˜ gateway ipì´ì nodeì—ì„œ veth pairë¡œ pod interfaceì™€ ì—°ê²°ëœ ipì¸ ê²ƒì„ í™•ì¼ í•  ìˆ˜ ìˆë‹¤.
eunyoung@gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-3dm6 ~ $ ip a
...
11: vethe73c1f42@if2: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1460 qdisc noqueue state UP group default
    link/ether 6e:be:4e:b1:b4:50 brd ff:ff:ff:ff:ff:ff link-netns cni-9323f0e6-2ca0-4b11-6fa6-e49b780e505f
    inet 10.32.0.1/32 scope global vethe73c1f42
       valid_lft forever preferred_lft forever
    inet6 fe80::6cbe:4eff:feb1:b450/64 scope link
       valid_lft forever preferred_lft forever

# webpodê°€ ìˆëŠ” ë…¸ë“œê°€ ì•„ë‹Œ ë‹¤ë¥¸ ë…¸ë“œë¥¼ í˜¸ì¶œ
â¯ curl 34.64.32.222:30007
<!DOCTYPE html>
<html>
<head>
<title>Welcome to nginx!</title>

# í˜¸ì¶œëœ ë…¸ë“œë¥¼ í™•ì¸í•´ë³´ë©´, ì™¸ë¶€ ipë¡œ ë“¤ì–´ì˜¨ ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.
root@gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj:~# tcpdump src 121.167.232.64 and port 30007
tcpdump: verbose output suppressed, use -v[v]... for full protocol decode
listening on eth0, link-type EN10MB (Ethernet), snapshot length 262144 bytes
00:31:18.547435 IP 121.167.232.64.58637 > gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.30007: Flags [S], seq 3561575594, win 65535, options [mss 1460,nop,wscale 6,nop,nop,TS val 2109264739 ecr 0,sackOK,eol], length 0
00:31:18.554140 IP 121.167.232.64.58637 > gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.30007: Flags [.], ack 2337967013, win 2068, options [nop,nop,TS val 2109264745 ecr 1030989870], length 0
00:31:18.554595 IP 121.167.232.64.58637 > gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.30007: Flags [P.], seq 0:81, ack 1, win 2068, options [nop,nop,TS val 2109264745 ecr 1030989870], length 81

# ì´ì œ ë“¤ì–´ì˜¨ ë…¸ë“œì˜ ipë¡œ natê°€ ë˜ì—ˆì„í…, ë“¤ì–´ì˜¨ ë…¸ë“œ ë‚´ë¶€ ipë¥¼ srcë¡œ ì¡ì•„ì„œ ë³´ë©´.. (ì´ ë¶€ë¶„ì€ ì˜ˆì „ì— [service1](https://nyoung08.github.io/study/2024/09/29/service1/)ì—ì„œë„ ì“´ ì  ìˆëŠ” iptablesë¥¼ ë”°ë¼ê°€ë©´ ëœë‹¤)
# ê·¸ ë…¸ë“œì—ì„œ ë°”ë¡œ pod ipë¥¼ ì°ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. 
root@gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-3dm6:~# tcpdump src  10.0.0.38
tcpdump: verbose output suppressed, use -v[v]... for full protocol decode
listening on eth0, link-type EN10MB (Ethernet), snapshot length 262144 bytes
00:31:18.547814 IP gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.18974 > 10.32.0.9.http: Flags [S], seq 3561575594, win 65535, options [mss 1460,nop,wscale 6,nop,nop,TS val 2109264739 ecr 0,sackOK,eol], length 0
00:31:18.554172 IP gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.18974 > 10.32.0.9.http: Flags [.], ack 2337967013, win 2068, options [nop,nop,TS val 2109264745 ecr 1030989870], length 0
00:31:18.554614 IP gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.18974 > 10.32.0.9.http: Flags [P.], seq 0:81, ack 1, win 2068, options [nop,nop,TS val 2109264745 ecr 1030989870], length 81: HTTP: GET / HTTP/1.1
00:31:18.559327 IP gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.18974 > 10.32.0.9.http: Flags [.], ack 854, win 2054, options [nop,nop,TS val 2109264751 ecr 1030989877], length 0
00:31:18.559781 IP gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.18974 > 10.32.0.9.http: Flags [F.], seq 81, ack 854, win 2054, options [nop,nop,TS val 2109264751 ecr 1030989877], length 0
00:31:18.564458 IP gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.18974 > 10.32.0.9.http: Flags [.], ack 855, win 2054, options [nop,nop,TS val 2109264756 ecr 1030989882], length 0

# webpodì—ì„œ í™•ì¸í•´ë³´ë©´ nodeì—ì„œ ì˜¤ëŠ” ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.
00:31:18.547856 IP gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.18974 > webpod1.80: Flags [S], seq 3561575594, win 65535, options [mss 1460,nop,wscale 6,nop,nop,TS val 2109264739 ecr 0,sackOK,eol], length 0
00:31:18.547878 IP webpod1.80 > gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.18974: Flags [S.], seq 2337967012, ack 3561575595, win 21120, options [mss 1420,sackOK,TS val 1030989870 ecr 2109264739,nop,wscale 7], length 0
00:31:18.554177 IP gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.18974 > webpod1.80: Flags [.], ack 1, win 2068, options [nop,nop,TS val 2109264745 ecr 1030989870], length 0
00:31:18.554619 IP gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.18974 > webpod1.80: Flags [P.], seq 1:82, ack 1, win 2068, options [nop,nop,TS val 2109264745 ecr 1030989870], length 81: HTTP: GET / HTTP/1.1
00:31:18.554631 IP webpod1.80 > gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.18974: Flags [.], ack 82, win 165, options [nop,nop,TS val 1030989876 ecr 2109264745], length 0
00:31:18.554735 IP webpod1.80 > gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.18974: Flags [P.], seq 1:239, ack 82, win 165, options [nop,nop,TS val 1030989876 ecr 2109264745], length 238: HTTP: HTTP/1.1 200 OK
00:31:18.554825 IP webpod1.80 > gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.18974: Flags [P.], seq 239:854, ack 82, win 165, options [nop,nop,TS val 1030989877 ecr 2109264745], length 615: HTTP
00:31:18.559341 IP gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.18974 > webpod1.80: Flags [.], ack 854, win 2054, options [nop,nop,TS val 2109264751 ecr 1030989877], length 0
00:31:18.559784 IP gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.18974 > webpod1.80: Flags [F.], seq 82, ack 854, win 2054, options [nop,nop,TS val 2109264751 ecr 1030989877], length 0
00:31:18.559848 IP webpod1.80 > gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.18974: Flags [F.], seq 854, ack 83, win 165, options [nop,nop,TS val 1030989882 ecr 2109264751], length 0
00:31:18.564463 IP gke-nyoung-cluster-1-nyoung-nodepool--d89bf7aa-prpj.asia-northeast3-a.c.dhha-team-20221221.internal.18974 > webpod1.80: Flags [.], ack 855, win 2054, options [nop,nop,TS val 2109264756 ecr 1030989882], length 0
```
